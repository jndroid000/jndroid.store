{% extends "base.html" %}
{% load static %}
{% block title %}সাইন আপ - JN App Store{% endblock %}
{% block extra_css %}<link rel="stylesheet" href="{% static 'css/review_form.css' %}">{% endblock %}

{% block content %}
<div class="reviewFormContainer">
  <div class="pageHeader">
    <h1>অ্যাকাউন্ট তৈরি করুন</h1>
    <p>JN App Store কমিউনিটিতে যোগ দিন এবং আপনার অ্যাপ শেয়ার করুন</p>
  </div>

  {% if messages %}
    {% for message in messages %}
      <div style="padding:14px; border-radius:12px; margin-bottom:16px; {% if 'error' in message.tags %}background:rgba(251,113,133,0.15); border:1px solid rgba(251,113,133,0.3); color:rgba(251,113,133,0.9);{% else %}background:rgba(34,197,94,0.15); border:1px solid rgba(34,197,94,0.3); color:rgba(34,197,94,0.9);{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <form method="post" class="reviewForm">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div style="background:rgba(251,113,133,0.15); border:1px solid rgba(251,113,133,0.3); border-radius:12px; padding:14px; margin-bottom:16px; color:rgba(251,113,133,0.9);">
        {% for error in form.non_field_errors %}
          <p style="margin:4px 0;">{{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <div class="formGroup">
      <label for="username">ইউজারনেম</label>
      <input 
        type="text" 
        id="username" 
        name="username" 
        required 
        placeholder="একটি অনন্য ইউজারনেম"
        style="width: 100%; padding: 12px; border: 1px solid var(--line); background: var(--card); border-radius: 12px; color: var(--text); font-size: 14px; transition: background .12s ease, border-color .12s ease;"
        {% if form.username.value %}value="{{ form.username.value }}"{% endif %}
      />
      {% if form.username.errors %}
        {% for error in form.username.errors %}
          <small style="color: var(--danger); display: block; margin-top: 4px;">⚠️ {{ error }}</small>
        {% endfor %}
      {% endif %}
    </div>

    <div class="formGroup">
      <label for="email">ইমেইল</label>
      <input 
        type="email" 
        id="email" 
        name="email" 
        required 
        placeholder="আপনার সক্রিয় ইমেইল"
        style="width: 100%; padding: 12px; border: 1px solid var(--line); background: var(--card); border-radius: 12px; color: var(--text); font-size: 14px; transition: background .12s ease, border-color .12s ease;"
        {% if form.email.value %}value="{{ form.email.value }}"{% endif %}
      />
      {% if form.email.errors %}
        {% for error in form.email.errors %}
          <small style="color: var(--danger); display: block; margin-top: 4px;">⚠️ {{ error }}</small>
        {% endfor %}
      {% endif %}
    </div>

    <div class="formGroup">
      <label for="password1">পাসওয়ার্ড</label>
      <input 
        type="password" 
        id="password1" 
        name="password1" 
        required 
        placeholder="শক্তিশালী পাসওয়ার্ড (কমপক্ষে ৮ অক্ষর)"
        style="width: 100%; padding: 12px; border: 1px solid var(--line); background: var(--card); border-radius: 12px; color: var(--text); font-size: 14px; transition: background .12s ease, border-color .12s ease;"
      />
      {% if form.password1.errors %}
        {% for error in form.password1.errors %}
          <small style="color: var(--danger); display: block; margin-top: 4px;">⚠️ {{ error }}</small>
        {% endfor %}
      {% endif %}
    </div>

    <div class="formGroup">
      <label for="password2">পাসওয়ার্ড নিশ্চিত করুন</label>
      <input 
        type="password" 
        id="password2" 
        name="password2" 
        required 
        placeholder="পাসওয়ার্ড আবার লিখুন"
        style="width: 100%; padding: 12px; border: 1px solid var(--line); background: var(--card); border-radius: 12px; color: var(--text); font-size: 14px; transition: background .12s ease, border-color .12s ease;"
      />
      {% if form.password2.errors %}
        {% for error in form.password2.errors %}
          <small style="color: var(--danger); display: block; margin-top: 4px;">⚠️ {{ error }}</small>
        {% endfor %}
      {% endif %}
    </div>

    <div style="display: flex; gap: 12px; margin-top: 24px;">
      <button type="submit" class="btn primary" style="flex: 1; background: linear-gradient(135deg, var(--brand), #4f46e5); border-color: rgba(255,255,255,0.12); box-shadow: 0 18px 40px rgba(124,92,255,0.25);">অ্যাকাউন্ট তৈরি করুন</button>
    </div>

    <div style="margin-top:16px; text-align:center; color:var(--muted); font-size:14px;">
      ইতিমধ্যে অ্যাকাউন্ট আছে? <a href="{% url 'accounts:login' %}" style="color:var(--brand); text-decoration:underline;">লগইন করুন</a>
    </div>
  </form>
</div>
{% endblock %}

