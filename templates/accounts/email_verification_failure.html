{% extends "base.html" %}
{% load static %}
{% block title %}ржЗржорзЗржЗрж▓ ржпрж╛ржЪрж╛ржЗржХрж░ржг ржмрзНржпрж░рзНрже - JN App Store{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/review_form.css' %}">
<style>
  .errorContainer {
    max-width: 600px;
    margin: 40px auto;
    padding: 0 16px;
  }
</style>
{% endblock %}

{% block content %}
<div class="errorContainer">
  <div style="text-align: center; margin-bottom: 40px;">
    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #ef4444, #fb7185); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px; box-shadow: 0 18px 40px rgba(251, 113, 133, 0.25);">
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="15" y1="9" x2="9" y2="15"/>
        <line x1="9" y1="9" x2="15" y2="15"/>
      </svg>
    </div>
    <h1 style="margin: 0 0 12px; color: var(--text); font-size: 28px; font-weight: 600;">ржпрж╛ржЪрж╛ржЗржХрж░ржг ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗ</h1>
    <p style="color: var(--muted); margin: 0; font-size: 15px;">{{ error_message }}</p>
  </div>

  <div style="background: var(--card); border: 1px solid var(--line); border-radius: 16px; padding: 32px 24px; margin-bottom: 24px;">
    <h3 style="color: var(--text); font-size: 15px; font-weight: 600; margin: 0 0 20px;">тЪая╕П рж╕ржорж╕рзНржпрж╛рж░ ржХрж╛рж░ржг:</h3>
    
    {% if error_type == 'expired' %}
      <div style="background: rgba(251, 113, 133, 0.08); border-left: 3px solid #ef4444; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
        <p style="margin: 0 0 12px; color: var(--text); font-weight: 500;">тП░ ржпрж╛ржЪрж╛ржЗржХрж░ржг рж▓рж┐ржЩрзНржХрзЗрж░ ржорзЗржпрж╝рж╛ржж рж╢рзЗрж╖</p>
        <ul style="margin: 0; padding-left: 20px; color: var(--muted); font-size: 14px;">
          <li style="margin-bottom: 6px;">ржЖржкржирж╛рж░ ржпрж╛ржЪрж╛ржЗржХрж░ржг рж▓рж┐ржЩрзНржХ ржкрзБрж░рж╛ржирзЛ рж╣ржпрж╝рзЗ ржЧрзЗржЫрзЗ</li>
          <li style="margin-bottom: 6px;">ржкрзНрж░рждрж┐ржЯрж┐ рж▓рж┐ржЩрзНржХ рж╢рзБржзрзБржорж╛рждрзНрж░ 7 ржжрж┐ржирзЗрж░ ржЬржирзНржп ржХрж╛ржЬ ржХрж░рзЗ</li>
          <li>ржЖржкржирж╛рж░ ржлрзЛржи/ржХржорзНржкрж┐ржЙржЯрж╛рж░ рждрж╛рж░рж┐ржЦ рж╕ржарж┐ржХ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи</li>
        </ul>
      </div>
      <p style="color: var(--muted); font-size: 14px; margin: 0; padding: 16px; background: rgba(59, 130, 246, 0.05); border-radius: 8px;">
        тЬЕ рж╕ржорж╛ржзрж╛ржи: ржирзАржЪрзЗ "ржирждрзБржи ржпрж╛ржЪрж╛ржЗржХрж░ржг ржкрж╛ржи" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи
      </p>
    
    {% elif error_type == 'invalid' %}
      <div style="background: rgba(251, 113, 133, 0.08); border-left: 3px solid #ef4444; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
        <p style="margin: 0 0 12px; color: var(--text); font-weight: 500;">ЁЯФЧ ржпрж╛ржЪрж╛ржЗржХрж░ржг рж▓рж┐ржЩрзНржХ ржЕржирзБржкрж╕рзНржерж┐ржд ржмрж╛ ржнрзБрж▓</p>
        <ul style="margin: 0; padding-left: 20px; color: var(--muted); font-size: 14px;">
          <li style="margin-bottom: 6px;">рж▓рж┐ржЩрзНржХржЯрж┐ ржЖрж░ ржмрж┐ржжрзНржпржорж╛ржи ржирзЗржЗ</li>
          <li style="margin-bottom: 6px;">URL-ржЯрж┐ рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ ржирж╛ ржХржкрж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ</li>
          <li>ржЕржержмрж╛ ржПржЯрж┐ ржХрж╛рж░рзЛ ржЕржирзНржп ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ рж▓рж┐ржЩрзНржХ рж╣рждрзЗ ржкрж╛рж░рзЗ</li>
        </ul>
      </div>
      <p style="color: var(--muted); font-size: 14px; margin: 0; padding: 16px; background: rgba(59, 130, 246, 0.05); border-radius: 8px;">
        тЬЕ рж╕ржорж╛ржзрж╛ржи: ржирзАржЪрзЗ "ржирждрзБржи ржпрж╛ржЪрж╛ржЗржХрж░ржг ржкрж╛ржи" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи ржПржмржВ рж╕ржорзНржкрзВрж░рзНржг рж▓рж┐ржЩрзНржХржЯрж┐ ржЕржирзБрж▓рж┐ржкрж┐ ржХрж░рзБржи
      </p>
    
    {% elif error_type == 'already_verified' %}
      <div style="background: rgba(34, 197, 94, 0.08); border-left: 3px solid #22c55e; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
        <p style="margin: 0 0 12px; color: var(--text); font-weight: 500;">тЬУ ржПржЗ ржЗржорзЗржЗрж▓ ржЗрждрж┐ржоржзрзНржпрзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ</p>
        <ul style="margin: 0; padding-left: 20px; color: var(--muted); font-size: 14px;">
          <li style="margin-bottom: 6px;">ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рж╕ржорзНржкрзВрж░рзНржг рж╕ржХрзНрж░рж┐ржпрж╝ ржПржмржВ ржмрж┐ржжрзНржпржорж╛ржи</li>
          <li>ржЖржкржирж┐ ржПржЦржиржЗ рж▓ржЧржЗржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи</li>
        </ul>
      </div>
      <p style="color: var(--muted); font-size: 14px; margin: 0; padding: 16px; background: rgba(34, 197, 94, 0.05); border-radius: 8px;">
        тЬЕ рж╕ржорж╛ржзрж╛ржи: ржирзАржЪрзЗ "рж▓ржЧржЗржи ржХрж░рзБржи" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи
      </p>
    
    {% else %}
      <div style="background: rgba(251, 113, 133, 0.08); border-left: 3px solid #ef4444; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
        <p style="margin: 0 0 12px; color: var(--text); font-weight: 500;">тЪая╕П ржПржХржЯрж┐ ржЕржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд рждрзНрж░рзБржЯрж┐ ржШржЯрзЗржЫрзЗ</p>
        <ul style="margin: 0; padding-left: 20px; color: var(--muted); font-size: 14px;">
          <li style="margin-bottom: 6px;">ржПржХржЯрж┐ рж╕рж┐рж╕рзНржЯрзЗржо рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ ржпрж╛ржЪрж╛ржЗржХрж░ржг ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржпрж╝</li>
          <li>ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржкрзБржирж░рж╛ржпрж╝ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи ржмрж╛ рж╕рж╣рж╛ржпрж╝рждрж╛ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи</li>
        </ul>
      </div>
    {% endif %}

    <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--line);">
      <h4 style="color: var(--text); font-size: 14px; font-weight: 600; margin: 0 0 16px;">ЁЯТб ржЖржкржирж┐ ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:</h4>
      <ol style="margin: 0; padding-left: 20px; color: var(--muted); font-size: 14px; line-height: 1.8;">
        {% if error_type == 'expired' or error_type == 'invalid' %}
          <li style="margin-bottom: 8px;">ржирзАржЪрзЗ <strong>"ржирждрзБржи ржпрж╛ржЪрж╛ржЗржХрж░ржг ржкрж╛ржи"</strong> ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи</li>
          <li style="margin-bottom: 8px;">ржЖржкржирж╛рж░ ржЗржорзЗржЗрж▓ ржЗржиржмржХрзНрж╕рзЗ ржирждрзБржи рж▓рж┐ржЩрзНржХ ржЦрзБржБржЬрзБржи</li>
          <li style="margin-bottom: 8px;"><strong>рж╕ржорзНржкрзВрж░рзНржг URL</strong> ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржкрзЗрж╕рзНржЯ ржХрж░рзБржи (ржЕржВрж╢ржд ржХржкрж┐ ржиржпрж╝)</li>
          <li>рж▓рж┐ржЩрзНржХржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЖржкржирж╛ржХрзЗ рж▓ржЧржЗржи ржХрж░ржмрзЗ ржПржмржВ ржкрзНрж░рзЛржлрж╛ржЗрж▓рзЗ ржирж┐ржпрж╝рзЗ ржпрж╛ржмрзЗ</li>
        {% elif error_type == 'already_verified' %}
          <li style="margin-bottom: 8px;">ржирзАржЪрзЗ <strong>"рж▓ржЧржЗржи ржХрж░рзБржи"</strong> ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи</li>
          <li style="margin-bottom: 8px;">ржЖржкржирж╛рж░ ржЗржорзЗржЗрж▓ ржПржмржВ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржжрж┐ржпрж╝рзЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░рзБржи</li>
          <li style="margin-bottom: 8px;">ржЖржкржирж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржкрзЗржЬрзЗ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржкрж╛ржмрзЗржи</li>
          <li>ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржк ржЖржкрж▓рзЛржб рж╢рзБрж░рзБ ржХрж░рзБржи ржПржмржВ ржХржорж┐ржЙржирж┐ржЯрж┐рждрзЗ ржпрзБржХрзНржд рж╣ржи</li>
        {% else %}
          <li style="margin-bottom: 8px;"><strong>"рж╕рж╛рж╣рж╛ржпрзНржп ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи"</strong> ржмрзЛрждрж╛ржорзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи</li>
          <li style="margin-bottom: 8px;">ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржкрзЛрж░рзНржЯ ржЯрж┐ржо ржЖржкржирж╛ржХрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗ</li>
          <li>ржЖржкржирж╛рж░ ржЗржорзЗржЗрж▓ ржПржмржВ ржмрж░рзНржгржирж╛ ржкрзНрж░ржжрж╛ржи ржХрж░рзБржи</li>
        {% endif %}
      </ol>
    </div>
  </div>

  <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 20px;">
    {% if error_type == 'expired' or error_type == 'invalid' %}
      <a href="{% url 'accounts:signup' %}" class="btn primary" style="flex: 1; min-width: 200px; display: block; text-align: center; padding: 12px 24px; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border-radius: 12px; text-decoration: none; font-weight: 600; border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 18px 40px rgba(37,99,235,0.25); transition: opacity 0.2s;">ржирждрзБржи ржпрж╛ржЪрж╛ржЗржХрж░ржг ржкрж╛ржи</a>
    {% elif error_type == 'already_verified' %}
      <a href="{% url 'accounts:login' %}" class="btn primary" style="flex: 1; min-width: 200px; display: block; text-align: center; padding: 12px 24px; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border-radius: 12px; text-decoration: none; font-weight: 600; border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 18px 40px rgba(37,99,235,0.25); transition: opacity 0.2s;">рж▓ржЧржЗржи ржХрж░рзБржи</a>
    {% else %}
      <a href="{% url 'support' %}" class="btn primary" style="flex: 1; min-width: 200px; display: block; text-align: center; padding: 12px 24px; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border-radius: 12px; text-decoration: none; font-weight: 600; border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 18px 40px rgba(37,99,235,0.25); transition: opacity 0.2s;">рж╕рж╛рж╣рж╛ржпрзНржп ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи</a>
    {% endif %}
    <a href="/" class="btn secondary" style="flex: 1; min-width: 200px; display: block; text-align: center; padding: 12px 24px; background: var(--card); color: var(--text); border: 1px solid var(--line); border-radius: 12px; text-decoration: none; font-weight: 600; transition: background 0.2s;">рж╣рзЛржорзЗ ржлрж┐рж░рзБржи</a>
  </div>

  <div style="background: rgba(251, 113, 133, 0.08); border: 1px solid rgba(251, 113, 133, 0.2); border-radius: 12px; padding: 16px; text-align: center; color: var(--muted); font-size: 13px;">
    ЁЯУз ржкрзНрж░рж╢рзНржи? <a href="{% url 'support' %}" style="color: var(--brand); font-weight: 600; text-decoration: none;">рж╕рж╛ржкрзЛрж░рзНржЯрзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи</a> ржмрж╛ ржЖржорж╛ржжрзЗрж░ ржЧрж╛ржЗржб ржкржбрж╝рзБржи
  </div>
</div>
{% endblock %}
